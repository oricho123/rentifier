/**
 * Hebrew localization strings for Rentifier bot
 */
export const he = {
  commands: {
    start: {
      welcome_new: '×‘×¨×•×›×™× ×”×‘××™× ×œ-Rentifier, {name}! ğŸ ',
      welcome_new_description: '×× ×™ ××¢×–×•×¨ ×œ×š ×œ××¦×•× ×“×™×¨×•×ª ×œ×”×©×›×¨×” ×‘×™×©×¨××œ.',
      welcome_back: '×©×œ×•× ×©×•×‘, {name}!',
      filter_count: '×™×© ×œ×š {count} ×¤×™×œ×˜×¨{plural} ×¤×¢×™×œ{plural}.',
      command_list: '<b>×¤×§×•×“×•×ª ×–××™× ×•×ª:</b>',
      description: '×”×¨×©××” ××• ×”×¦×’×ª ×—×©×‘×•×Ÿ',
    },
    filter: {
      description: '×™×¦×™×¨×ª ×¤×™×œ×˜×¨ ×—×™×¤×•×© ×—×“×©',
      create_intro: '×‘×•××• × ×™×¦×•×¨ ×¤×™×œ×˜×¨ ×—×“×©! ğŸ“',
      step_name: '×ª×Ÿ ×œ×¤×™×œ×˜×¨ ×©× (×œ×“×•×’××”: "×ª×œ ××‘×™×‘ 2 ×—×“×¨×™×"):',
      step_cities: '×‘××™×œ×• ×¢×™×™×¨×•×ª ×œ×—×¤×©?',
      step_cities_examples: '×“×•×’×××•×ª: ×ª×œ ××‘×™×‘, ×™×¨×•×©×œ×™×, ×—×™×¤×”',
      step_cities_skip: '××• ×”×§×œ×“ "×“×œ×’" ×›×“×™ ×œ×—×¤×© ×‘×›×œ ×”×¢×¨×™×.',
      step_price_min: '××—×™×¨ ××™× ×™××œ×™ (â‚ª ×œ×—×•×“×©)?',
      step_price_max: '××—×™×¨ ××§×¡×™××œ×™ (â‚ª ×œ×—×•×“×©)?',
      step_rooms_min: '××¡×¤×¨ ×—×“×¨×™× ××™× ×™××œ×™?',
      step_rooms_max: '××¡×¤×¨ ×—×“×¨×™× ××§×¡×™××œ×™?',
      step_keywords: '××™×œ×•×ª ××¤×ª×— ×œ×—×™×¤×•×©? (××•×¤×¨×“ ×‘×¤×¡×™×§×™×)',
      step_keywords_examples: '×“×•×’×××•×ª: ××¨×¤×¡×ª, ×—× ×™×”, ××¨×•×”×˜',
      created: 'âœ… <b>×”×¤×™×œ×˜×¨ "{name}" × ×•×¦×¨!</b>',
      created_notify: '×ª×§×‘×œ ×”×ª×¨××•×ª ×›××©×¨ ×“×™×¨×•×ª ×—×“×©×•×ª ×ª×•×××•×ª ××ª ×”×¤×™×œ×˜×¨ ×”×–×”.',
      cancelled: 'âŒ ×™×¦×™×¨×ª ×”×¤×™×œ×˜×¨ ×‘×•×˜×œ×”.',
      progress: '×©×œ×‘ {current} ××ª×•×š {total}',
      summary_cities: 'ğŸ“ ×¢×¨×™×: {cities}',
      summary_price: 'ğŸ’° ××—×™×¨: {min} - {max} â‚ª/×—×•×“×©',
      summary_rooms: 'ğŸ›ï¸ ×—×“×¨×™×: {min} - {max}',
      summary_keywords: 'ğŸ” ××™×œ×•×ª ××¤×ª×—: {keywords}',
      summary_none: '×œ× ×”×•×’×“×¨×• ×§×¨×™×˜×¨×™×•× ×™× ×¡×¤×¦×™×¤×™×™×',
      error_invalid_price: 'âŒ ××—×™×¨ ×œ× ×ª×§×™×Ÿ. ×× × ×”×–×Ÿ ××¡×¤×¨ ×—×™×•×‘×™ ××• ×”×§×œ×“ "×“×œ×’".',
      error_invalid_rooms: 'âŒ ××¡×¤×¨ ×—×“×¨×™× ×œ× ×ª×§×™×Ÿ. ×× × ×”×–×Ÿ ××¡×¤×¨ ×©×œ× ×—×™×•×‘×™ ××• ×”×§×œ×“ "×“×œ×’".',
      delete_confirm: '×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××ª ×”×¤×™×œ×˜×¨ "{name}"?',
      deleted: 'âœ… ×”×¤×™×œ×˜×¨ × ××—×§ ×‘×”×¦×œ×—×”.',
    },
    list: {
      description: '×”×¦×’×ª ×›×œ ×”×¤×™×œ×˜×¨×™× ×©×œ×š',
      title: '<b>×”×¤×™×œ×˜×¨×™× ×©×œ×š:</b>',
      no_filters: '××™×Ÿ ×œ×š ×¤×™×œ×˜×¨×™× ×¤×¢×™×œ×™×. ×”×©×ª××© ×‘-/filter ×›×“×™ ×œ×™×¦×•×¨ ×¤×™×œ×˜×¨.',
      filter_header: '<b>×¤×™×œ×˜×¨ #{id}: {name}</b>',
      filter_status_active: 'âœ… ×¤×¢×™×œ',
      filter_status_paused: 'â¸ï¸ ××•×©×”×”',
    },
    pause: {
      description: '×”×©×”×™×™×ª ×”×ª×¨××•×ª',
      success: 'â¸ï¸ ×›×œ ×”×”×ª×¨××•×ª ×”×•×©×”×•. ×”×©×ª××© ×‘-/resume ×›×“×™ ×œ×”××©×™×š.',
      already_paused: '×”×”×ª×¨××•×ª ×›×‘×¨ ××•×©×”×•×ª.',
    },
    resume: {
      description: '×”××©×š ×”×ª×¨××•×ª',
      success: 'â–¶ï¸ ×”×”×ª×¨××•×ª ×—×•×“×©×•. ×ª×§×‘×œ ×”×ª×¨××•×ª ×¢×œ ×“×™×¨×•×ª ×—×“×©×•×ª.',
      already_active: '×”×”×ª×¨××•×ª ×›×‘×¨ ×¤×¢×™×œ×•×ª.',
    },
    delete: {
      description: '××—×™×§×ª ×¤×™×œ×˜×¨',
      usage: '×©×™××•×©: /delete <id>',
      confirm: '×”×× ××ª×” ×‘×˜×•×—?',
      success: 'âœ… ×”×¤×™×œ×˜×¨ × ××—×§.',
      not_found: 'âŒ ×¤×™×œ×˜×¨ ×œ× × ××¦×.',
    },
    help: {
      description: '×”×¦×’×ª ×¢×–×¨×” ×•×¤×§×•×“×•×ª',
      title: '<b>×¤×§×•×“×•×ª Rentifier Bot</b>',
      cmd_start: '<b>/start</b> - ×”×¨×©××” ××• ×”×¦×’×ª ×—×©×‘×•×Ÿ',
      cmd_filter: '<b>/filter</b> - ×™×¦×™×¨×ª ×¤×™×œ×˜×¨ ×—×™×¤×•×© ×—×“×©',
      cmd_list: '<b>/list</b> - ×”×¦×’×ª ×”×¤×™×œ×˜×¨×™× ×”×¤×¢×™×œ×™× ×©×œ×š',
      cmd_delete: '<b>/delete &lt;id&gt;</b> - ××—×™×§×ª ×¤×™×œ×˜×¨',
      cmd_pause: '<b>/pause</b> - ×”×©×”×™×™×ª ×›×œ ×”×”×ª×¨××•×ª',
      cmd_resume: '<b>/resume</b> - ×”××©×š ×›×œ ×”×”×ª×¨××•×ª',
      cmd_help: '<b>/help</b> - ×”×¦×’×ª ×”×•×“×¢×ª ×¢×–×¨×” ×–×•',
      footer: '×”×©×ª××© ×‘-/filter ×›×“×™ ×œ×™×¦×•×¨ ××ª ×”×¤×™×œ×˜×¨ ×”×¨××©×•×Ÿ ×©×œ×š ×•×œ×”×ª×—×™×œ ×œ×§×‘×œ ×¨×™×©×•××™×!',
    },
  },
  common: {
    skip: 'â­ï¸ ×“×œ×’',
    cancel: 'âŒ ×‘×™×˜×•×œ',
    confirm: 'âœ… ××™×©×•×¨',
    next: '×”×‘× â¡ï¸',
    previous: 'â¬…ï¸ ×”×§×•×“×',
    edit: 'âœï¸ ×¢×¨×•×š',
    delete: 'ğŸ—‘ï¸ ××—×§',
    create_filter: 'â• ×¦×•×¨ ×¤×™×œ×˜×¨',
    list_filters: 'ğŸ“‹ ×¨×©×™××ª ×¤×™×œ×˜×¨×™×',
    create_another: 'â• ×¦×•×¨ ×¤×™×œ×˜×¨ × ×•×¡×£',
  },
  errors: {
    user_not_found: 'âŒ ××©×ª××© ×œ× × ××¦×. ×× × ×©×œ×— /start ×ª×—×™×œ×”.',
    filter_not_found: 'âŒ ×¤×™×œ×˜×¨ ×œ× × ××¦× ××• ×©××™× ×• ×©×™×™×š ×œ×š.',
    operation_failed: 'âš ï¸ ×”×¤×¢×•×œ×” × ×›×©×œ×”, ×× × × ×¡×” ×©×•×‘.',
    invalid_input: 'âŒ ×§×œ×˜ ×œ× ×ª×§×™×Ÿ.',
    unknown_command: '×¤×§×•×“×” ×œ× ××•×›×¨×ª: {command}',
    help_suggestion: '×©×œ×— /help ×›×“×™ ×œ×¨××•×ª ×¤×§×•×“×•×ª ×–××™× ×•×ª.',
  },
  cities: {
    tel_aviv: '×ª×œ ××‘×™×‘',
    jerusalem: '×™×¨×•×©×œ×™×',
    haifa: '×—×™×¤×”',
    beer_sheva: '×‘××¨ ×©×‘×¢',
    rishon_lezion: '×¨××©×•×Ÿ ×œ×¦×™×•×Ÿ',
    petah_tikva: '×¤×ª×— ×ª×§×•×•×”',
    ashdod: '××©×“×•×“',
    netanya: '× ×ª× ×™×”',
    ramat_gan: '×¨××ª ×’×Ÿ',
    herzliya: '×”×¨×¦×œ×™×”',
  },
};

/**
 * Type-safe string formatter with placeholder replacement
 * @param key - Dot-notation key path (e.g., "commands.start.welcome_new")
 * @param params - Object with placeholder values
 * @returns Formatted string with placeholders replaced
 *
 * @example
 * t('commands.start.welcome_new', { name: '×™×©×¨××œ' })
 * // Returns: "×‘×¨×•×›×™× ×”×‘××™× ×œ-Rentifier, ×™×©×¨××œ! ğŸ "
 */
export function t(key: string, params?: Record<string, string | number>): string {
  // Navigate nested object by key path
  const keys = key.split('.');
  let value: any = he;

  for (const k of keys) {
    if (value && typeof value === 'object' && k in value) {
      value = value[k];
    } else {
      console.warn(`Translation key not found: ${key}`);
      return key;
    }
  }

  if (typeof value !== 'string') {
    console.warn(`Translation key does not point to a string: ${key}`);
    return key;
  }

  // Replace {placeholder} with actual values
  if (!params) {
    return value;
  }

  return value.replace(/\{(\w+)\}/g, (match, paramKey) => {
    if (paramKey in params) {
      return String(params[paramKey]);
    }
    return match;
  });
}
